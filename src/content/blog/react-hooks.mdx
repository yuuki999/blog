---
title: 'React Hooksの基本と応用テクニック'
date: '2025-03-25'
excerpt: 'React Hooksを使った効率的なコンポーネント開発の方法と実践的なテクニックを解説します。'
tags: ['React', 'Hooks', 'フロントエンド']
---

# React Hooksの基本と応用テクニック

React Hooksは、関数コンポーネントでステート管理やライフサイクルメソッドなどの機能を使えるようにするAPIです。Hooksの導入により、コードの再利用性と可読性が大幅に向上しました。

## 基本的なHooks

### 1. useState

`useState`はコンポーネント内で状態を管理するためのHookです。

```jsx
import { useState } from 'react';

function Counter() {
  // [現在の状態, 状態を更新する関数] = useState(初期値)
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>カウント: {count}</p>
      <button onClick={() => setCount(count + 1)}>増加</button>
    </div>
  );
}
```

### 2. useEffect

`useEffect`はコンポーネントのレンダリング後に実行される副作用を扱うためのHookです。

```jsx
import { useState, useEffect } from 'react';

function Timer() {
  const [seconds, setSeconds] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setSeconds(seconds => seconds + 1);
    }, 1000);

    // クリーンアップ関数
    return () => clearInterval(interval);
  }, []); // 空の依存配列で、マウント時とアンマウント時のみ実行

  return <p>経過時間: {seconds}秒</p>;
}
```

## カスタムHooks

ロジックを再利用可能な形で抽出するカスタムHooksも作成できます。

```jsx
import { useState, useEffect } from 'react';

// ウィンドウサイズを監視するカスタムHook
function useWindowSize() {
  const [windowSize, setWindowSize] = useState({
    width: undefined,
    height: undefined,
  });

  useEffect(() => {
    function handleResize() {
      setWindowSize({
        width: window.innerWidth,
        height: window.innerHeight,
      });
    }

    window.addEventListener('resize', handleResize);
    handleResize(); // 初期値を設定

    return () => window.removeEventListener('resize', handleResize);
  }, []);

  return windowSize;
}

// 使用例
function ResponsiveComponent() {
  const size = useWindowSize();

  return (
    <div>
      <p>ウィンドウ幅: {size.width}px</p>
      <p>ウィンドウ高さ: {size.height}px</p>
    </div>
  );
}
```

## まとめ

React Hooksを使うことで、関数コンポーネントでも複雑な状態管理や副作用の処理が簡潔に書けるようになります。カスタムHooksを活用することで、ロジックの再利用性も高まり、メンテナンス性の高いコードが書けるようになります。
